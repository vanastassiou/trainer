{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Articles Database",
  "description": "Scientific article summaries for fitness education",
  "type": "object",
  "required": ["articles"],
  "properties": {
    "version": {
      "type": "integer",
      "description": "Schema version number"
    },
    "lastUpdated": {
      "type": "string",
      "description": "Date of last update (YYYY-MM-DD)",
      "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}$"
    },
    "articles": {
      "type": "object",
      "description": "Map of PMID to article",
      "additionalProperties": {
        "type": "object",
        "required": [
          "title",
          "authors",
          "journal",
          "year",
          "url",
          "tags",
          "question",
          "methodology",
          "takeaways",
          "evidenceLevel",
          "peerReviewed",
          "status"
        ],
        "properties": {
          "title": {
            "type": "string",
            "description": "Article title"
          },
          "authors": {
            "type": "array",
            "description": "Full author names",
            "items": {
              "type": "string"
            }
          },
          "journal": {
            "type": "string",
            "description": "Publication journal name"
          },
          "year": {
            "type": "integer",
            "description": "Publication year",
            "minimum": 1900
          },
          "pmid": {
            "type": "string",
            "description": "PubMed ID",
            "pattern": "^[0-9]+$"
          },
          "doi": {
            "type": "string",
            "description": "Digital Object Identifier"
          },
          "url": {
            "type": "string",
            "description": "URL to the article (typically PubMed)",
            "format": "uri"
          },
          "volume": {
            "type": ["string", "null"],
            "description": "Journal volume number"
          },
          "issue": {
            "type": ["string", "null"],
            "description": "Journal issue number"
          },
          "pages": {
            "type": ["string", "null"],
            "description": "Page range (e.g., '123-145')"
          },
          "tags": {
            "type": "array",
            "description": "Topic tags for filtering and categorization",
            "items": {
              "type": "string",
              "enum": [
                "adaptations",
                "aging",
                "biomechanics",
                "body-composition",
                "bone-density",
                "cancer",
                "cardiac-rehab",
                "cardiovascular",
                "cognition",
                "conditioning",
                "crossfit",
                "dehydration",
                "detraining",
                "dose-response",
                "elite",
                "emergency-medicine",
                "energy-availability",
                "epidemiology",
                "exercise-selection",
                "fat-loss",
                "fibre",
                "football",
                "frequency",
                "growth-hormone",
                "growth",
                "guidelines",
                "high-intensity",
                "hormones",
                "hydration",
                "hypertrophy",
                "injury-prevention",
                "injury-rates",
                "longevity",
                "maintenance",
                "maturation",
                "menopause",
                "menstrual-cycle",
                "metabolism",
                "meta-analysis",
                "minimal-dose",
                "mobility",
                "monitoring",
                "mortality",
                "muscle-damage",
                "muscle-preservation",
                "nutrition",
                "per-session",
                "perceived-recovery",
                "performance",
                "periodization",
                "physical-activity",
                "position-statement",
                "powerlifting",
                "programming",
                "protein",
                "recovery",
                "RED-S",
                "safety",
                "sets",
                "sex-differences",
                "shoulder",
                "sleep-extension",
                "sleep",
                "special-populations",
                "sports",
                "squat",
                "steps",
                "strength",
                "supplementation",
                "technique",
                "testosterone",
                "trained-individuals",
                "training-intensity",
                "training-myths",
                "volume",
                "weightlifting",
                "youth"
              ]
            }
          },
          "question": {
            "type": "string",
            "description": "The research question the study was trying to answer"
          },
          "evidenceLevel": {
            "type": "string",
            "description": "Oxford CEBM evidence level (1a=SR of RCTs, 1b=RCT, 2a=SR of cohorts, 2b=cohort, 3a=SR of case-control, 3b=case-control, 4=case series, 5=expert opinion)",
            "enum": ["1a", "1b", "2a", "2b", "3a", "3b", "4", "5"]
          },
          "peerReviewed": {
            "type": "boolean",
            "description": "Whether the article underwent peer review (false for preprints)"
          },
          "status": {
            "type": "string",
            "description": "Publication status",
            "enum": ["current", "retracted", "corrected", "superseded"],
            "default": "current"
          },
          "funding": {
            "type": ["array", "null"],
            "description": "Funding sources (null if not disclosed or unknown)",
            "items": {
              "type": "string"
            }
          },
          "methodology": {
            "type": "object",
            "description": "Study methodology details",
            "required": ["studyType", "limitations"],
            "properties": {
              "studyType": {
                "type": "string",
                "description": "Type of study design",
                "enum": [
                  "systematic-review-with-meta-analysis",
                  "systematic-review-with-meta-regression",
                  "systematic-review",
                  "umbrella-review",
                  "randomized-controlled-trial",
                  "intervention-study",
                  "prospective-cohort",
                  "retrospective-cohort",
                  "cross-sectional",
                  "narrative-review",
                  "position-statement"
                ]
              },
              "population": {
                "type": ["object", "null"],
                "description": "Population characteristics of study participants",
                "properties": {
                  "sex": {
                    "type": ["array", "null"],
                    "description": "Biological sex of participants",
                    "items": {
                      "type": "string",
                      "enum": ["male", "female", "mixed"]
                    }
                  },
                  "ageGroup": {
                    "type": ["array", "null"],
                    "description": "Age groups studied",
                    "items": {
                      "type": "string",
                      "enum": [
                        "child",
                        "adolescent",
                        "young-adult",
                        "adult",
                        "middle-aged",
                        "older-adult"
                      ]
                    }
                  },
                  "trainingStatus": {
                    "type": ["array", "null"],
                    "description": "Training experience level",
                    "items": {
                      "type": "string",
                      "enum": ["untrained", "recreational", "trained", "elite"]
                    }
                  },
                  "healthStatus": {
                    "type": ["array", "null"],
                    "description": "Health conditions or status",
                    "items": {
                      "type": "string",
                      "enum": [
                        "healthy",
                        "diabetic",
                        "obese",
                        "metabolic-syndrome",
                        "perimenopausal",
                        "postmenopausal",
                        "hypogonadal",
                        "pregnant",
                        "injured",
                        "post-surgical",
                        "osteoporotic",
                        "hypertensive",
                        "cardiac-condition",
                        "clinical"
                      ]
                    }
                  }
                }
              },
              "sampleSize": {
                "type": ["integer", "null"],
                "description": "Number of participants (null for reviews)"
              },
              "duration": {
                "type": ["string", "null"],
                "description": "Study duration (null for reviews)"
              },
              "limitations": {
                "type": "array",
                "description": "Red flags or methodological limitations",
                "items": {
                  "type": "string"
                }
              }
            }
          },
          "summary": {
            "type": "string",
            "description": "Brief summary of the study (optional)"
          },
          "takeaways": {
            "type": "array",
            "description": "Key actionable points",
            "items": {
              "type": "string"
            }
          }
        }
      }
    }
  }
}
